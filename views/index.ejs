<!-- Wappler include head-page="layouts/main" fontawesome_5="cdn" is="dmx-app" id="index" appConnect="local" bootstrap5="cdn" components="{dmxBootstrap5Toasts:{},dmxDataTraversal:{},dmxBootstrap5TableGenerator:{}}" -->
<dmx-serverconnect id="get_users" url="/api/users/get"></dmx-serverconnect>
<div is="dmx-bs5-toasts" id="toasts1"></div>
<meta name="ac:route" content="/">
<div class="container mt-5">
  <div class="row">
    <div class="col">


      <h1>Hello World</h1>
      <p>A basic Wappler project to be deployed to Railway.&nbsp;</p>
      <p>This is a change to the development branch.</p>
      <p>Another change.</p>
      <p>Changed the app title</p>
      <p>Added dynamic data loading</p>
    </div>
  </div>
  <div class="row mt-5">
    <div class="col">
      <div class="card mb-3">
        <div class="card-header">Enter Data</div>
        <div class="card-body">
          <form id="user" is="dmx-serverconnect-form" method="post" action="/api/users/add" dmx-on:success="toasts1.show({message: 'User added', title: 'Success', subtitle: 'User added'});user.reset()" dmx-on:error="toasts1.show({message: 'Error', title: 'Error', subtitle: 'Error'})">

            <div class="form-group md-3 mt-3"> <label for="name" class="form-label">Your Name</label>
              <input type="text" class="form-control" id="name" name="name" aria-describedby="input2_help" placeholder="Enter some text">
            </div>
            <div class="form-group md-3 mt-3"> <label for="email" class="form-label">Your Email</label>
              <input type="text" class="form-control" id="email" name="email" aria-describedby="input2_help" placeholder="Enter some text">
            </div><button id="submit" class="btn btn-primary mt-4 mb-0" dmx-on:click="user.submit();get_users.load({},true)">Button</button>
          </form>
        </div>
      </div>

    </div>
  </div>
  <div class="row">
    <h4>Users:</h4>
    <div class="table-responsive">
      <table class="table table-striped table-bordered table-hover table-sm">
        <thead>
          <tr>
            <th>Id</th>
            <th>Name</th>
            <th>Email</th>
          </tr>
        </thead>
        <tbody is="dmx-repeat" dmx-generator="bs5table" dmx-bind:repeat="get_users.data.users" id="tableRepeat1">
          <tr>
            <td dmx-text="id"></td>
            <td dmx-text="name"></td>
            <td dmx-text="email"></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

</div>